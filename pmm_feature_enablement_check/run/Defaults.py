#!/usr/bin/env python
import os
import logging
import pprint
from collections import defaultdict

# Module Variables
RESULT_DIRECTORY = os.path.dirname(
    os.path.realpath(__file__)) + os.path.sep + "results"
DEFAULT_RESULT_NAME = "test.xml"
DEFAULT_LOGFILE_NAME = "test.log"
STATUS_FILE_PREFIX = "Status"


class LOGLEVEL:
    VERBOSE = logging.NOTSET
    DEBUG = logging.DEBUG
    INFO = logging.INFO
    WARN = logging.WARNING
    ERROR = logging.ERROR


class STATUS:
    RUNNING = "RUNNING"
    PASS = "PASS"
    FAIL = "FAIL"
    WARN = "WARN"
    INCONCLUSIVE = "INCONCLUSIVE"


class EXITCODES:
    FATAL_APEX_ERROR = -2
    PASS = 0
    WARNINGS_DETECTED = 51

    NOTIFY_HOST_OF_WRAPPER_REBOOT_AND_HOST_RESTART_WRAPPER = 25
    REQUEST_HOST_REBOOT_SUT_AND_RESTART_SCRIPT = 26
    REQUEST_HOST_REBOOT_SUT_AND_CONTINUE_EXECUTION = 27
    REQUEST_HOST_REBOOT_SUT_AND_WAIT_FOR_EXECUTOR_AND_RESTART_WRAPPER = 28
    WAIT_FOR_SUT_REBOOT_AND_RESTART_WRAPPER = 29

    UNKNOWN_ERROR = 50
    EXECUTOR_UNRESPONSIVE = 59
    INVALID_INTERPRETER_VERSION = 60
    HOST_ABORT = 61
    SUT_ABORT = 62
    INVALID_CONFIG = 63
    MISSING_RESOURCE = 64
    SYSTEM_UNRESPONSIVE = 65
    APP_CRASH = 66
    RESET_LOOP = 67
    INSUFFICIENT_MEMORY = 68
    INSUFFICIENT_DISK_SPACE = 69
    PARAMETER_ERROR = 70
    APP_NOT_INSTALLED = 71
    APP_STARTUP_ERROR = 72
    APP_RESULT_ERROR = 73
    UNABLE_TO_SET_TEST_CONDITION = 74
    MISSING_WORKLOAD = 75
    STOP = 76
    RESULTSTORE_SAVE_FAILED = 77
    UNSAFE_STORAGE_SHUTDOWN = 78
    PCIE_SPEED_CHANGE = 79
    BCT_EXECUTION_ERROR = 80
    HELPER_SCRIPT_ERROR = 81
    DOWNLOAD_ERROR = 82
    INSTALL_SCRIPT_MISSING = 83
    UNCOMPRESS_ERROR = 84
    BIOS_FLASH_ERROR = 85

    COMMAND_TIMEOUT = 100
    REBOOT_TIMEOUT = 101
    WORKLOAD_TIMEOUT = 102
    WORKLOAD_DETECTED_TIMEOUT = 103
    PXE_BOOT_TIMEOUT = 104
    OS_INSTALL_TIMEOUT = 105
    ADS_TIMEOUT = 106

    HARD_LOCK = 200
    SOFT_LOCK = 201
    BSOD = 202
    MCA_ERROR = 203
    UNEXPECTED_POWER_LOSS = 204
    UNEXPECTED_HDT_ENTRY = 205
    PWR_STATE_ENTRY_FAIL = 206
    PWR_STATE_EXIT_FAIL = 207
    DEVICE_MISCOMPARE = 210
    EVENT_LOG_ERROR = 211
    LIVE_KERNEL_EVENT = 212
    APP_LOG_ERROR = 213
    DRIVER_INSTALL_ERROR = 214
    EXCEPTION = 215
    LOCK_EXCEPTION = 216
    BIOS_CORRUPTION = 217
    SECURE_UNLOCK_FAILED = 218
    ADS_UNDEFINED_RESULT = 219
    ADS_ERROR = 220
    ADS_COMMUNICATION_ERROR = 221
    THERM_TRIP = 222
    UNEXPECTED_POWER_STATE = 223

    MULTIPLE_FAILURES = 250

def site_struct():
    return defaultdict(board_struct)

def board_struct():
    return defaultdict(user_struct)

def user_struct():
    return dict(pageviews=0, username="", comments=0)

def createMultDict():
    return defaultdict(site_struct)

def Dumper(hash):
    pprint.pprint(hash)
    # Test Snippet Legacy Return Codes
    # SUT_ABORT_LEGACY = 701
    # APP_INSTALL_FAIL = 803
    # REBOOT_REQUEST = 805
    # LOGGING_OFF = 806
    # REBOOT_NOTIFICATION_RESTART = 807
    # REBOOT_REQUEST_RESTART = 808
    # REBOOT_NOTIFICATION = 809
